<!-------班级模态对话框---------->
<div class="modal fade" id="banjiModal" draggable='true' style="margin-top:200px;" tabindex='-1'>
    <div class="modal-dialog modal-lg">
    	<div class="modal-content">
    		<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
				<h4 class="modal-title">班级选择</h4>
			</div>
			<div class="modal-body" >
                <div class="col-sm-12  pre-scrollable" style="clear:both;height:300px;">
					<div class="row "><br></div>
                    <?php
                            $banjiIdArray = array();
                            
                            $banjiIdArray = explode(',',$datas['banjiId']);
                            //var_dump($datas['banjiId']);
                    ?>
                    <volist name="banjis" id="vo">
                        <?php                            	

                            if ( in_array($vo['id'],$banjiIdArray) )
                            {
                                $ck="checked";
                            }else{
                                $ck=" ";
                            }
                        ?>
                        <div class="col-md-2">
                            <label><input type="<eq name='banjiModalSelType' value='radio'>radio<else/>checkbox</eq>" value="{$vo.id}"  name="banjiIdStr[]" id="chk_banji_{$vo.id}" tName='{$vo.name}'  <?php echo $ck;?> class='chk_banji' >{$vo.space} {$vo.name}</label>
                        </div>
                    </volist> 

				</div>
                <div style="clear:both;width:100%;height:1px;"></div>
			</div>
			<div class="modal-footer">
                <!-- updated by lym start -->
                <div class="col-md-6">
                    <if condition='$banjiModalSelType eq "radio"'>
                    <else/>
                        <span class="col-md-2"><a class="select_all_banji" href="javascript:void(0);">全选</a></span>
                        <span class="col-md-2"><a class="select_opposite_banji" href="javascript:void(0);">反选</a></span>
                        <span class="col-md-2"><a class="cancel_all_banji" href="javascript:void(0);">全不选</a></span>
                    </if>
                </div>
                <div class="col-md-6">
                    <button class="btn btn-sm btn-primary" data-dismiss='modal' type="button">确定</button>
                </div>
                <!-- updated by lym end -->
			</div>
		</div><!-- /.modal-content -->
	</div><!-- /.modal-dialog -->
</div><!-- /.modal -->
<!-------班级模态对话框---------->

<script>
// added by lym -start
$(document).ready(function() {
    // 学生：全选
    $('.select_all_banji').click(function(){
        $('.chk_banji').iCheck('check');
    })

    // 学生：全不选
    $('.cancel_all_banji').click(function(){
        $('.chk_banji').iCheck('uncheck');
    })
    
    // 学生：反选
    $('.select_opposite_banji').click(function(){
        $('.chk_banji').each(function(i){
            var ck = $(this).prop('checked') ? 'uncheck' : 'check';
            $(this).iCheck(ck);
        })
    })
// added by lym -end

});
</script>